{% extends "admin_layout.html" %}

{% block content %}
<style>
.section-title { text-align: center; margin: 30px 0 20px; }
.admin-form { width: 500px; margin: auto; padding: 25px; background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); }
.form-group { margin-bottom: 18px; }
.form-group label { font-weight: 600; display: block; margin-bottom: 6px; }
.admin-form input { width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc; box-sizing: border-box; }
.submit-btn { width: 100%; background: black; color: white; padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; }
.card-list { width: 85%; margin: 50px auto; display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 25px; }
.card-item { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); text-align: center; }
.card-item ion-icon { font-size: 40px; color: #6a319e; margin-bottom: 10px; }
.card-actions { margin-top: 15px; display: flex; gap: 10px; }
.card-actions a { flex: 1; padding: 8px; border-radius: 6px; text-decoration: none; font-size: 14px; color: white; font-weight: 600; }
.edit-btn { background: #007bff; }
.delete-btn { background: #dc3545; }
</style>

<h2 class="section-title">{% if edit_mode %} Edit Facility {% else %} Add Facility {% endif %}</h2>

<form method="POST" class="admin-form">
    {% csrf_token %}
    <div class="form-group"><label>Title</label>{{ form.title }}</div>
    <div class="form-group"><label>Description</label>{{ form.description }}</div>
    <div class="form-group"><label>Icon Name (Ionicon)</label>{{ form.icon_name }}</div>
    <button type="submit" class="submit-btn">{% if edit_mode %} Update {% else %} Add {% endif %}</button>
</form>

<hr>

<h2 class="section-title">Manage Facilities</h2>
<div class="card-list">
    {% for f in facilities %}
    <div class="card-item">
        <ion-icon name="{{ f.icon_name }}"></ion-icon>
        <h3>{{ f.title }}</h3>
        <p>{{ f.description }}</p>
        <div class="card-actions">
            <a href="{% url 'edit_facility' f.pk %}" class="edit-btn">Edit</a>
            <a href="{% url 'delete_facility' f.pk %}" class="delete-btn" onclick="return confirm('Delete?')">Delete</a>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}